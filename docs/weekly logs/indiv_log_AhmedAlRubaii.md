# Personal Log - Ahmed Al Rubaii

**Week**: 4

**Work Period**: 25 September 2023 - 1 October 2023

**GitHub Account**: AhmedAlRubaii

## Individual Objectives

- I worked on the project plan, specificaly did the table context paragraphs, worked on major milestones and did filled out my part of the teamwork distribution and the expected areas of contribution. Discussed the project plan as well as the features within and how we will tackle them. 


## Active Tasks

- Research tech stack 
- Project plan
- Expand feature list
- Create Kanban board

## Status of Tasks

- Research tech stack -- In Progress
- Project plan -- Completed
- Expand feature list -- In Progress
- Create Kanban board -- In Progress

## Peer Review

![image](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/78169976/05888db3-fedf-4d2a-9ccf-83ad912989cf)

-----------------


**Week**: 5

**Work Period**: 1 October 2023 - 8 October 2023

## Individual Objectives

- I worked on the paper prototypes. I specificaly discussed design ideads and choices as well as contributing in drawing up the actual initial desings for our first milestone.


## Active Tasks

- Create and keep adding to Kanban board
- Research tech stack
- Design paper prototypes
    - Welcome page
    - Sign up
    - Sign in
    - Create user profile
    - Home page
    - Chat window

## Status of Tasks

- Create and keep adding to Kanban board -- In Progress
- Research tech stack -- In Progress
- Design paper prototypes -- In Progress

## Peer Review

![image](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/8e6f33d6-9468-4988-97c6-85d14b44fb2d)

-----------------

**Week**: 6

**Work Period**: 9 October 2023 - 15 October 2023

## Individual Objectives

- I participated in finishing the paper prototypes and in coming up with the database schema we would use for our first milestone. We also all participated in task allocation. I have started development for the landing page.


## Active Tasks

- Maintain Kanban board
- Design paper prototypes
- Design database schema
	- Memebers relation
	- Security question relation
	- Profile relation
- Develop landing page
- Assigning tasks for first sprint 

## Status of Tasks

- Maintain Kanban board -- In Progress
- Design paper prototypes -- Completed
- Design database schema -- Completed
- Develop landing page -- In Progress
- Assigning tasks for first sprint -- Completed

## Peer Review
![week 6](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/af0f4809-9982-44a0-adae-aded25869b4d)

-----------------

**Week**: 7

**Work Period**: 16 October 2023 - 22 October 2023

## Individual Objectives

- I was in charge of developing the landing page for our first sprint. I had to make sure that implementing the landing page caused no issues in terms of page routing with the already provided pages so far. I was also assigned the task to work on making the navbar component which will be used for most our pages. 


## Active Tasks

- Develop landing page
- Develop Nav bar component
- Learn associated code and css that came up when developing the landing page
- Assigning tasks for second sprint

## Status of Tasks

- Develop landing page -- Completed
- Develop Nav bar component -- In Progress
- Learn associated code and css that came up when developing the landing page -- In Progress
- Assigning tasks for second sprint -- Completed

## Peer Review

![week 7](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/c5ada3b8-ce0f-49bf-bdfe-80fa6a6ceff3)


-----------------

**Week**: 8

**Work Period**: 23 October 2023 - 29 October 2023

## Individual Objectives

- I was in charge of fixing up the Navbar logic due to the way we want to implement it using local storage. I also re-implemented the landing page design given by Arsh.  


## Active Tasks

- Re-implement landing page per given new design
- Develop Nav bar component with the updated logic
- Learn associated code and css that came up when developing the landing page and the navbar 


## Status of Tasks

- Re-implement landing page per given new design -- Completed
- Develop Nav bar component with the updated logic -- Completed
- Learn associated code and css that came up when developing the landing page and the navbar -- In Progress

## Peer Review

![week 8](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/9ee73122-dedd-488d-953e-ed5253ec3bf4)

-----------------

**Week**: 9

**Work Period**: 30 October 2023 - 5 November 2023

## Individual Objectives

- I was involved a little in merging of the code and putting it all together, I specifically put the searchbar component within the navbar. I also was present within the mini-presentation along with my team. I have also implemented automated UI testing for the navbar and landing page components.


## Active Tasks

- Merge code in preperation for the presentation and live demo
- Write automated UI tests for navbar
- Write automated UI tests for lanidng page
- Learn automated UI tests and how to perform them

## Status of Tasks

- Merge code in preperation for the presentation and live demo -- Completed
- Write automated tests for navbar -- Completed
- Write automated tests for lanidng page -- Completed
- Learn automated tests and how to perform them -- In Progress (still need to learn backend automated testing)

## Peer Review

![week 9](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/0ea35689-ec8a-41ba-b4da-2b59518ba41d)

-----------------

**Week**: 10

**Work Period**: 6 November 2023 - 12 November 2023

## Individual Objectives

- I was involved involved a little bit in re-designing the navbar in order to make it appear more modern. I was also involved in redesigning our search results/dashboard page and what we plan to have it do in terms of functionality. I have also been exploring how to use our Express JS server for the backend by researching and using team-mates' code as a reference. I have started to make an attempt on using Express JS on a local repo as practice for now. I have also started to do some research into the different AWS services that are available to us as we plan to host our project on AWS soon.


## Active Tasks

- Assist in re-design of the Navbar
- Re-design search results page
- Research Express JS
	- Research online resources
   	- Use team-mate codes as referance
   	- Use Express JS on a local repo to understand how it works
 - Start researching AWS services we can use
   
## Status of Tasks

- Assist in re-design of the Navbar -- Completed
- Re-design search results page -- Completed
- Research Express JS -- In Progress
	- Research online resources -- In Progress
   	- Use team-mate codes as referance -- In Progress
   	- Use Express JS on a local repo to understand how it works -- In Progress
 - Start researching AWS services we can use -- In Progress

## Peer Review
![week 10](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/61e6d9b4-3a32-461c-898b-aeb3ffa926e8)

-----------------

**Week**: 11 (Reading Break)

**Work Period**: 13 November 2023 - 19 November 2023

## Individual Objectives

- As it was the reading break, minimal work was done. I continued the start of my research for different AWS services that may be useful for our project by reading documentation and watched youtube tutorials explaining how some of them work. 

## Active Tasks

- Research AWS services that may be of use for the project
- Services found that can be of use:
	- AWS EC2
 	- AWS RDS
	- AWS S3   
## Status of Tasks

- Research AWS services that may be of use for the project -- In Progress
- Services found that can be of use: -- In Progress (Research is still ongoing)
	- AWS EC2
 	- AWS RDS
	- AWS S3   

## Peer Review
No peer review was available during reading break

-----------------

**Week**: 12

**Work Period**: 20 November 2023 - 26 November 2023

## Individual Objectives

- For this week, I have conducted even more research into the various AWS services available that can be of use. Below are the listed services that may be of use. I have also attempted to statically host our website on AWS for the second milestone, and if possible and all goes well, to then dynamically host it as well. Currently, www.somethingsomethingcompany.com is up and running and being hosted from S3 buckets with Route 53 providing the DNS. I have run into a problem in that the page routes are not working when uploading a deployable version of our app. The source of this issue is attributed to how Next.JS produces a build version and to how AWS handles page routing. Also, as can be seen from the website, it is an older version of our app where they UI is not updated but that is not a concern as it can be easily updated by swapping the S3 bucket contents. Details on why these services were chosen will be included within the design document and the opened issue on github regarding AWS deployment. We also discussed how we would like to have our data encrypted within our project as a team.

## Active Tasks

- Continued research onto AWS services to be used for our project:
	- AWS EC2
	- AWS ECS
	- AWS ECR
	- AWS RDS
	- AWS S3
	- AWS Route 35
	- AWS Cloudfront
	- AWS Cognito -- Tentative
	- AWS Rekognition -- Tentative
	- AWS Amplify -- Tentative
	- AWS Lambda -- Tentative
 - Worked on statically hosting our app on AWS
 - Started working on design document and milestone 2 design submission
 - Discussed and decided on encryption methods to be used
## Status of Tasks

- Continued research onto AWS services to be used for our project: -- In Progress (These are the services that are found to be useful, depending on the needs of the project as we move further, more services may be added to the list)
	- AWS EC2
	- AWS ECS
	- AWS ECR
	- AWS RDS
	- AWS S3
	- AWS Route 35
	- AWS Cloudfront
	- AWS Cognito -- Tentative
	- AWS Rekognition -- Tentative
	- AWS Amplify -- Tentative
	- AWS Lambda -- Tentative
 - Worked on statically hosting our app on AWS -- In Progress
 - Started working on design document and milestone 2 design submission -- In Progress
 - Discussed and decided on encryption methods to be used -- Completed

### Additional Notes
As discussed with the TA, I will be providing some additional notes regarding my work this week as proof as I have not contributed to the project in terms of coding but mainly in terms of AWS deployment. After researching, reading documentation and watching tutorials, I have chosen a few AWS services that can be used for our project. As we have a 3 tier client-server architecture, the use of AWS ECS would work very well. ECS allows for us to upload multiple docker containers (one for each of our nextjs, express js and database) within ECR and to initialize them to be run on separate EC2 instances. These EC2 instances are able to communicate with each other and should be able to share data as they currently do on localhost. we are also planning on using amazon's database service RDS as it has support for postgressql. To store all of our files, we can use AWS S3 and keep them in buckets. buckets can also add a layer of security depending on the configuration. We will also be looking into using AWS cloudfront to reduce latency and load times of the app. AWS route 53 will be used for DNS and any related tasks. Currently working on getting static hosting of the app to work. I have also read the Amazon documentation regarding S3 and ECS and have watched tutorials regarding all the previously mentioned AWS services that were found to be useful. (https://www.youtube.com/watch?v=mls8tiiI3uc , https://www.youtube.com/watch?v=86Ys0LnMSnY , https://www.youtube.com/watch?v=YDNSItBN15w , https://www.youtube.com/watch?v=6-RtA6FlbgQ , https://www.youtube.com/watch?v=tfU0JEZjcsg) these for reference are a few of the tutorials I have watched and have been following. As stated previously, www.somethingsomethingcompany.com is up and running (although routing not working fully) which shows that I have been working on the project, although not in a coding sense. 


## Peer Review
![week 12](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/091b0e54-69b6-423d-968b-4603802c5c56)

-----------------

**Week**: 13

**Work Period**: 27 November 2023 - 3 December 2023

## Individual Objectives

- This week I continued work on deploying the website staticaly onto AWS. I have fixed the issue I was facing with navigation from last week. I have now updated the website so that it has the updated styling and pages (although not all pages are accessible as they need backend functionality to be reached. eg: creatProfile.html). I also worked with my team on the design document and was in charge of doing the database design changes along with creating the ER diagrams. I also recorded a part of this change for the design video. 

## Active Tasks

- Refactor up-to-date code to get an AWS compatable deployable version
- Statically host our app on AWS
- Worked on design submission
	- Wrote the database design changes
	- Did ER diagrams
	- Did video part for submission
## Status of Tasks

- Refactor up-to-date code to get an AWS compatable deployable version -- Completed
- Statically host our app on AWS -- Completed
- Worked on design submission -- Completed
	- Wrote the database design changes
	- Did ER diagrams
	- Did video part for submission


## Peer Review
![week 13](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/203a9ea9-be26-41c9-b300-42aff5c0c1cd)

---------------------------

**Week**: 14

**Work Period**: 8 January 2024 - 14 January 2024

## Individual Objectives

- This week I conducted research, reading documentation and watching tutorials regarding how we can deploy our app and the different ways of deployment. Using the pointers given to me during the AWS discussion on Tuesday, I research EC2 and Fargate AWS services to be used with ECS. From research done, EC2 gives us more control over the virtual machines which the app is deployed on wheras Fargate leaves all the details to AWS to handle. From this, I think that Fargate will be a better option moving forward. I have as a result just started reading up on how this would work physically with the code we have now as it would require changes and additions to the docker file and other related docker container issues as that is how AWS will interprate them. 

## Active Tasks

- Research AWS services to be used for app deployment
	- Fargate
	- EC2
	- ECS
	- Load balancer
 - Start researching how to dockerize our app to be deployed with AWS standard
## Status of Tasks

- Research AWS services to be used for app deployment -- In Progress
	- Fargate
	- EC2
	- ECS
	- Load balancer
 - Start researching how to dockerize our app to be deployed with AWS standard -- In Progress


## Peer Review
![week 14](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/291b753c-a425-49ba-9ea0-d8b4987283c6)

---------------------------

**Week**: 15

**Work Period**: 15 January 2024 - 21 January 2024

## Individual Objectives

- Worked on the dockerization of the application. Created `Dockerfiles` for any required service and updated the `docker-compose.yml` to work accordingly. Had to research and understand the concpets of how docker works and the datails of writitng and updating a docker files in preparation for deployment. Also had some difficulty regarding the ports and the environment variables which were solved. Then started work on first steps of deployment to AWS ECS with Fargate.

## Active Tasks

- Research and understand how docker works and how to dockerize
	- Dockerize Database
 	- Dockerize ExpressJS
	- Dockerize NextJS
 - Started working on AWS deployment with Fargate
   
## Status of Tasks

- Research and understand how docker works and how to dockerize - Completed
	- Dockerize Database
 	- Dockerize ExpressJS
	- Dockerize NextJS
 - Started working on AWS deployment with Fargate - In Progress


## Peer Review
![week 15](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/7ef7aae1-2580-498c-b263-78bcf0a9106b)

---------------------------

**Week**: 16

**Work Period**: 22 January 2024 - 28 January 2024

## Individual Objectives

At the start of the week after some testing was done regarding the new dockerized system that I built, some issues were found. Shaheer helped in finding a solution to those issues specifically regarding web sockets. Next I had an issue regarding uploading the docker images to ECR due to a aws cli configuration and access misunderstanding. After a lot of research and eventually help from Seth on discord, I was able to successfuly gain access to the aes cli and use the commands.

![aws issue](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/c416f816-6337-4b26-ba00-78377cd15c9c)

However there was another issue regarding building the images. for docker to sucessfuly build an image outside using the docker-compose file (as in explicitly building an image using the docker build command) the dockerfile that the image will be built from needs to be explicitly called `Dockerfile`, and because I have named them .nextjs and .express for next and express respectivley they were not building, and this issue to quite a while to understand and diagnose as i found that there were very few cases online where people added suffixes to the dockerfile.

![docker build issue](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/da245088-6770-47ed-81d2-58cf106dd3da)

I eventually found a solution to that which was to create a dockerfile directory which would hold the dockerfiles in a manner where they are explicitly called `Dockerfile`. This was a minor setback as it took a long time to diagnose but the solution was simple and does not have any effect on the overall project. but for safety's sake and because our current docker-compose file works, this directory managment would only be done when pushing a new production version to aws. although the work would be repetitive in fixing the file system, it is a change that takes only 5-10 mins which i am fine with per deployment. After sucessfully uploading the images to ecr, the next issue encountered was using ecs and configuring the tasks. first i had to create a cluster but there was an issue in regards to creating it which was eventually resolved after I had come to it after a while.

![image](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/f4b75bf0-e9d7-4dec-8c2f-a31c1673e943)

after that issue was resolved i continued the deployment process by following tutorials and reading documentation to undertsand the process and the concepts being used. eventually after a first deployment attempt, i ended up getting a `503 Service Temporarily Unavailable` error when trying to access our app. this issue seems to be regarding using the provisioned aws vpc and not having it configured correctly, but i am unsure as there can be many other factors that can cause this issue. furthermore, there was also another realisation that i would require to set up volumes for the containers within ecs which was not mentioned in any of the tutorials i have followed. this took a lot of research in understanding what exactly volumes are and how they work and how containers interact with them. also the way in which aes ecs volumes are established are much different and more confusing that within docker-compose file. I eventually stumbled onto a forum site (i cant find the source now) that mentioned that building the images with the docker build command bundles all the runtime environments and modules within the images itself. this was the concern as we have `.next` and `node_modules` as volumes necessary for nextjs to run in our docker-compose and setting it up within ecs did not seem to line up. however after knowing that, i continued forward without setting volumes in ecs, following with the concept that volumes are bundled within the image when they are built. I am now continuing the deployment process and will be documenting any other issues that i encounter. 


## Active Tasks

- Research various topics and concepts related to containerization and deployment
- App deployment to ECS with Fargate
   
## Status of Tasks

- Research various topics and concepts related to containerization and deployment - In Progress/ Complete (dependant on if i encounter any more issues)
	- Docker building
	- AWS CLI configuration
	- AWS VPC issues
	- AWS ECS concerns regarding deployment
	- AWS variables vs Docker variabls
- App deployment to ECS with Fargate - In Progress


## Peer Review
![week 16](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/f504db9e-9166-41de-96c9-6dddc4ea615c)

---------------------------

**Week**: 17

**Work Period**: 29 January 2024 - 4 February 2024

## Individual Objectives

At the start of this week Shaheer was working on video uploading to the database within our app but found out that our database is unbale to facilitate the storage of video files. From this he approached me saying that the only optimal solution to our video storage problem is to store the videos within AWS S3 buckets. Due to the importance of this feature to our project, i decided to put deployment to the side and focus on this. I had to research and understand S3 and how it would be integrated within our app. I also had to refamiliarize myself with our app is has been a while since i have coded a full feature as my focus has been AWS for a while now. I ended up coding our server endpoint, the API and the client front end. As of now, the feature works on that one page i have created but our objective is to get this feature integrated within our chats page (similar to the upload video button in whatsapp chat). Although it is working as intended there is one small issue which is the credentials needed to connect our app to the S3 bucket. right now i am using my own account's personal access and secret keys which i input into our `.env` file and that facilitates the connection. the problem is that these account access keys are rotated every 15-20 mins and cannot be placed and forgotten about in the code (as in everytime someone wants to use the app they need to enter the new keys). The only solutions i have found to fix this is the creation of IAM users and give them S3 access which would produce static/unchanging keys but the AWS accounts provisioned to us by the client dont have the permissions to create IAM users. I have asked around in class and the discord and am very puzzled as to how this problem can be solved. my target is to get this issue solved by next week and get it out the way because everything else regarding the upload works (to my current knowledge). below is a picture of the first file successfuly uploaded from within our app to S3 bucket

![s3](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/9f8f6b2d-59fc-4dd2-8df8-d6e843f250fb)


There was also an unexpected and weird issue that was encountered regarding docker once again. The app (both frontend with next and backend with express) would not reload/rerender on saving a change within the code which is what normally happens. Running the app as we have previously made it work as intended which was puzzling. I updated, restared and deleted all images and volumes associated along with my computer but to no avail. Yafei mentioned he is encountering the same issue but what is confusing is that Shaheer and Satanshu say that it works perfectly for them, as if they were running it manualy. This issue took some research to be done into it but to no avail regarding finding a solution for it (i think it may be an OS thing since yafei and i use windows while satanshu and shaheer use mac)




## Active Tasks

- App deployment to ECS with Fargate
- Research and understand file upload to S3 buckets from within app
- Develop endpoints and frontend implementation to facilitate S3 bucket upload
- Find solution to rotating credentials issue
- Fix the weird docker issue
   
## Status of Tasks

- App deployment to ECS with Fargate - Halted
- Research and understand file upload to S3 buckets from within app - Completed
- Develop endpoints and frontend implementation to facilitate S3 bucket upload - Completed
- Find solution to rotating credentials issue - In Progress
- Fix the weird docker issue - In Progress


## Peer Review
![week 17](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/af391e08-283b-4df2-b4ad-5014d34b13a5)

---------------------------

**Week**: 18

**Work Period**: 5 February 2024 - 11 February 2024

## Individual Objectives

This week was mostly spent on troubleshooting and trying to understand various error/ failure points within the project, specificaly what I have been working on. The first point of concern was getting the rotating credentials issue sorted which has taken a while to get an appropriate response. Due to not getting anything useful from the internet or from the discord group, I emailed the client in which he provided advice on searching and using presigned URL for putting and retrieving items from an S3 bucket rather than having hard-coded credentials. This took some time to research in order to understand what presigned URLs are, how they work and how they can be implemented. During this time, Seth from group 3 (i think) replied to me in discord advicing the use of adjusting the task role and task execution role within fargate during deployment which would provide that fargate instance with an associated IAM role as if it was hard coded by myelf. From his response I again also had to research, understand and know how this would apply to our project. So far from the research I have done, it seems that Seth's solution is more viable and applicable. This means that I will need to adjust the code within our server to accomodate this 'within AWS' call to S3, but will also require me to work on deployment once again as it is all related to getting the app hosted on AWS. My goal is now to attempt deployment once again to fargate, taking into account the different factors and variables that need to be taken into account to make sure that our app is able to make AWS API calls to S3. I have also explained and provided assistance to Arsh in getting him up to speed on some AWS aspects as he will also be working on AWS using other services. 




## Active Tasks

- App deployment to ECS with Fargate
- Research Presigned URLs
- Research Task Execution Roles
- Research new deployment strategies
- Assist Arsh with AWS
  
## Status of Tasks

- App deployment to ECS with Fargate - Re-Iniated
- Research Presigned URLs - Completed
- Research Task Execution Roles - Completed
- Research new deployment strategies - In Progress
- Assist Arsh with AWS - Completed


## Peer Review
![week 18](https://github.com/COSC-499-W2023/year-long-project-team-10/assets/77289951/0f6d0f4b-06ca-4e5f-bebc-bd6a0dd4704f)
